<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login y Menú Principal</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        #menuPrincipal {
            display: none;
        }

        .card-option {
            transition: transform 0.3s ease;
        }

            .card-option:hover {
                transform: translateY(-10px);
            }

        .card img {
            height: 300px;
           /* object-fit: cover;*/
        }

        .container {
            max-width: 800px;
        }
    </style>
</head>
<body>

    <div class="container mt-5">
        <!-- Formulario de login -->
        <div id="loginForm">
            <h2 class="text-center mb-4">Iniciar Sesión</h2>
            <form id="formLogin">
                <div class="mb-3">
                    <label for="email" class="form-label">Correo Electrónico</label>
                    <input type="email" class="form-control" id="email" placeholder="Ingresa tu correo electrónico">
                </div>
                <div class="mb-3">
                    <label for="password" class="form-label">Contraseña</label>
                    <input type="password" class="form-control" id="password" placeholder="Ingresa tu contraseña">
                </div>
                <button type="submit" class="btn btn-primary w-100">Iniciar Sesión</button>
            </form>
            <div id="loginError" class="text-danger mt-2" style="display:none;">Error: Usuario o contraseña incorrectos.</div>
        </div>

        <!-- Menú Principal con cards -->
        <div id="menuPrincipal">
            <h2 class="text-center mb-4">Menú Principal</h2>
            <div class="row g-4">
                <!-- Card Nuevos Usuarios -->
                <div class="col-md-6">
                    <div class="card card-option">
                        <img src="https://cdn.pixabay.com/photo/2016/04/15/18/05/computer-1331579_640.png" class="card-img-top" alt="Nuevos Usuarios">
                        <div class="card-body text-center">
                            <h5 class="card-title">Nuevos Usuarios</h5>
                            <p class="card-text">Gestiona los usuarios nuevos del sistema.</p>
                            <a href="http://localhost:44313/Vistas/Usuarios.html" class="btn btn-primary" onclick="mostrarUsuarios()">Ver Usuarios</a>
                        </div>
                    </div>
                </div>

                <!-- Card Canchas -->
                <div class="col-md-6">
                    <div class="card card-option">
                        <img src="https://img.freepik.com/vector-premium/flor-patron-costura-negra-blanca_472212-291.jpg?semt=ais_hybrid" class="card-img-top" alt="Canchas">
                        <div class="card-body text-center">
                            <h5 class="card-title">Canchas</h5>
                            <p class="card-text">Consulta y administra las canchas disponibles.</p>
                            <a href="http://localhost:44313/Vistas/Canchas.html" class="btn btn-primary" onclick="mostrarCanchas()">Ver Canchas</a>
                        </div>
                    </div>
                </div>

                <!-- Card Proveedores -->
                <div class="col-md-6">
                    <div class="card card-option">
                        <img src="https://cdn-icons-png.flaticon.com/512/3321/3321752.png" class="card-img-top" alt="Proveedores">
                        <div class="card-body text-center">
                            <h5 class="card-title">Proveedores</h5>
                            <p class="card-text">Consulta y gestiona los proveedores del sistema.</p>
                            <a href="http://localhost:44313/Vistas/Proveedores.html" class="btn btn-primary" onclick="mostrarProveedores()">Ver Proveedores</a>
                        </div>
                    </div>
                </div>

                <!-- Card Cerrar Sesión -->
                <div class="col-md-6">
                    <div class="card card-option">
                        <img src="https://cdn-icons-png.flaticon.com/512/9204/9204165.png" class="card-img-top" alt="Cerrar Sesión">
                        <div class="card-body text-center">
                            <h5 class="card-title">Reportes</h5>
                            <p class="card-text">Sal del sistema de forma segura.</p>
                            <a href="#" class="btn btn-danger" onclick="cerrarSesion()">Cerrar Sesión</a>
                        </div>
                    </div>
                </div>

                <!-- Card Cerrar Sesión -->
                <div class="col-md-6">
                    <div class="card card-option">
                        <img src="https://cdn-icons-png.flaticon.com/512/9204/9204165.png" class="card-img-top" alt="Cerrar Sesión">
                        <div class="card-body text-center">
                            <h5 class="card-title">Cerrar Sesión</h5>
                            <p class="card-text">Sal del sistema de forma segura.</p>
                            <a href="#" class="btn btn-danger" onclick="cerrarSesion()">Cerrar Sesión</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const apiUrlLogin = 'http://localhost:44313/api/Usuarios/login';

        // Manejar el envío del formulario de login
        document.getElementById('formLogin').addEventListener('submit', function (event) {
            event.preventDefault();

            const loginData = {
                Email: document.getElementById('email').value,
                Contraseña: document.getElementById('password').value
            };

            fetch(apiUrlLogin, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(loginData)
            })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        mostrarMenuPrincipal();
                    } else {
                        mostrarErrorLogin();
                    }
                })
                .catch(error => console.error('Error:', error));
        });

        // Mostrar menú principal
        function mostrarMenuPrincipal() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('menuPrincipal').style.display = 'block';
            document.getElementById('loginError').style.display = 'none';
        }

        // Mostrar error de login
        function mostrarErrorLogin() {
            document.getElementById('loginError').style.display = 'block';
        }

        // Opciones del menú (Ejemplo: cargar usuarios, canchas, proveedores)
        function mostrarUsuarios() {
             
        }

        function mostrarCanchas() {
              
        }

        function mostrarProveedores() {
            
        }

        // Cerrar sesión (Regresar al formulario de login)
        function cerrarSesion() {
            document.getElementById('loginForm').style.display = 'block';
            document.getElementById('menuPrincipal').style.display = 'none';
        }
    </script>

</body>
</html>
